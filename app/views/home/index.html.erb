<p>
This is an Ruby on Rails application demonstrating how Knockout JS can be integrated with Rails 3.1.
</p>
<p>
You can add up to 10 different image url and text(brief label) to the index list. You can also edit existing image urls at your choice.
</p>
<p>
When clicking the 'View' link, it will show the image on your browser, and switch to the next image after 5 seconds.
</p>

<!-- album list -->
<table class="albums" data-bind="visible: !selectedAlbum()">
  <thead><tr><th>ID</th><th>URL</th><th>BRIEF</th></tr></thead>
  <tbody data-bind="template: {name: 'albumsTemplate', foreach: albums}">
</table>
<script type="text/x-jquery-tmpl" id="albumsTemplate">
  <tr>
    <td data-bind="text:id"></td>
    <td><input data-bind="value:url"/></td>
    <td><input data-bind="value:brief"/></td>
    <td><a href='#' data-bind="click:function(){ selectAlbum(id); }">View</a></td>
  </tr>
</script>

<input value="Add new album" type="button" data-bind="click: addAlbum, enable:albums().length < 10, visible: !selectedAlbum()"/>

<!-- selected album -->
<div class="viewAlbum" data-bind="template: { name: 'showAlbumTemplate', data: selectedAlbum}"></div>
<script type="text/x-jquery-tmpl" id="showAlbumTemplate">
  <img data-bind="attr: { src: url }"/>
  <p data-bind="text: brief"></p>
</script>

<p data-bind="visible: selectedAlbum()">
  <a href='#' data-bind="click: backToIndex">Back</a>
</p>
